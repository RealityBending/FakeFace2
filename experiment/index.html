<!DOCTYPE html>
<html>
    <head>
        <!-- Title shown in tab -->
        <title>Experiment</title>

        <!-- Load plugins used in Demographics -->
        <script src="https://unpkg.com/jspsych"></script>
        <script src="https://unpkg.com/@jspsych/plugin-browser-check"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-button-response"></script>
        <script src="https://unpkg.com/@jspsych/plugin-preload"></script>
        <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-text"></script>
        <script src="https://realitybending.github.io/JSmisc/jspsych_extensions/plugin-multiple-slider.js"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-likert"></script>

        <!-- Custom scripts -->
        <script src="stimuli/stimuli.js"></script>
        <script src="demographics.js"></script>
        <script src="fiction.js"></script>
        <script src="questionnaires.js"></script>

        <!-- CSS -->
        <link
            href="https://unpkg.com/jspsych/css/jspsych.css"
            rel="stylesheet"
            type="text/css"
        />
        <style>
            .narrow-text {
                max-width: 50%;
            }
        </style>
    </head>

    <body></body>

    <script>
        // Initialize experiment =================================================
        var jsPsych = initJsPsych({
            show_progress_bar: true,
            message_progress_bar: "Completion",
            on_finish: function () {
                jsPsych.data.displayData("json") // Display data in browser
            },
        })

        // Initialize timeline
        var timeline = []

        // Demographics ===========================================================
        timeline.push(demographics_browser_info)
        timeline.push(demographics_consent)
        timeline.push(demographics_info)
        timeline.push(demographics_sexual_orientation)

        // Questionnaires ===========================================================
        // Instructions Questionnaires
        timeline.push(questionnaires_instructions0)
        timeline.push(IPIP6) /* Mini IPIP *==========================*/
        timeline.push(AI_attitudes) /* Attitudes towards AI *=====================*/
        
        // Fiction task ===========================================================
        timeline.push(fiction_preloadstims)
        timeline.push(fiction_instructions1)
        timeline.push(fiction_phase1)

        // Run the timeline -------------------------------------------------------
        jsPsych.run(timeline)
    </script>
</html>
